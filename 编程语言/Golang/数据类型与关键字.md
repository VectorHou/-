### [返回](../Golang.md)

# <h1 align="center">数据类型与关键字</h1>

- ## 类型

### 空值：

**nil**

### 整型类型：

**int**（取决于操作系统）

**int8**

**int16**

**int32**

**int64**

**uint8**

**uint16**

**uint32**

**uint64**

### 浮点数类型：

**float32**

**float64**

### 字节类型：

**byte**

### 布尔值类型：

**boolean**（true或false）

### 字符串：

**string**，采用**UTF8编码**，英文字符占1个byte[采用ASCII编码中的数值与字符对应关系]；中文字符一般占用3个byte。字符串是以*<u>byte数组</u>*的形式*<u>存储</u>*的。

```go
var msgarr = [3]byte{0x30, 0x31, 0x32} //对应字符'1','2','3'

var msg string = string(msgarr) //对应字符串"123"

var b1 byte = msg[0] // msg[0]返回的类型是byte
```



### 数组：



### 切片：



### 指针：





- ## 关键字

### 包管理

- #### import

  **import** 用于导入包，这样就可以使用包中被导出[**首字母大写的func和type**]的标识符。包是Golang的最小封装，可以狭义的认为是C++中的class。

  ```go
  import "package path" // package path代表声明包的go文件的所在路径
  import(
  	_ "package path" // 表示不使用包中的标识符，只需要包的副作用，即计算包级变量的初始化表达式和执行导入包的init初始化函数
      . "package path" // 表示访问包中的标识符无需使用包名，例如fmt.Printf可以用Printf代替
      alias "package path" // 表示使用alias作为包的别名，例如fmt.Printf可以用alias.Printf代替
  )
  ```

  

- #### package

  **package**用于声明包的名称，需放在go文件的第一行。一个包可以由一个或多个go源文件组成，需放在同一个目录下，且同一个目录下的这些go文件的package的名字只能有一个。

  ```GO
  package <packagename> // packagename不能为空白标识符_
  ```

  

### 程序实体声明与定义

- #### chan

  **chan**用于声明**channel[信道]**。信道提供一种机制使两个并发执行的函数实现同步，并通过传递具体元素类型的值来通信。未初始化的信道值为nil。

  ```go
  chan T		// 可以被用来发送和接受类型T的值
  chan<- T	// 只能被用来发送浮点数
  <-chan T	// 只能被用来接手整数
  ```

  其中**<-**操作符指定信道的方向，发送或接收。若没有给定方向，那么该信道就是双向的。信道可以通过类型转换或赋值被强制为只发送或只接收。

  信道的初始化可以通过make函数来实现，其结果值充当了对底层数据结构的引用。初始化时可以为信道设置缓冲区大小，默认值是零，表示不带缓冲的或同步的信道。

  ```go
  cj := make(chan int)			// 整数类型的无缓冲信道
  cj := make(chan int, 0)			// 整数类型的无缓冲信道
  cp := make(chan *os.File, 100)	// 指向文件指针的带缓冲信道
  ```

  

- #### const

  **const**用于定义常量，一旦创建，不可赋值修改。const可以出现在任何关键字var可以出现的地方，声明常量方式与var声明变量方式相同。

  ```go
  // T代表类型名字
  const name = value
  const name T = value
  const(
  	name = value
      name T = value
  )
  ```

  注意，Golang中的**const不支持想C&C++中修饰函数的参数和返回值**。

  

- #### func

  **func**用于定义函数。Go函数支持变参且返回值支持多个，但不支持默认参数。如果函数存在多个返回值则需要使用小括号括起来。

  ```go
  func funcName() {}						// 无参无返回值
  func funcName(t T) T {}					// 有参有返回值
  func funcName(t T, list ...) (T1,T2) {}	// 有变参有多个返回值
  ```

  代码格式上需要注意的是，函数体的第一个大括号**"{"**必须和函数名在同一行。这个是Golang对代码格式的强制要求，在其他的语句中也是如此，比如**if else语句**、**for语句**、**switch语句**、**select语句**等。

  

- #### interface

  interface用于定义接口。一个接口就是一个方法集，如果一个类型实现了一个接口中的所有方法集，那么说明该类型实现此接口。接口类型变量可以存储任何实现了该接口的类型的值。**interface{}**表示空接口类型，默认地，所有类型均实现了空接口，所以**interface{}**可以接收任意类型值。

  ```go
  interface{}	//空接口
  
  // 一个简单的File接口
  type File interface{
      Read(b Buffer) bool
      Write(b Buffer) bool
      Close()
  }
  ```

  

- #### map

  **map**用于声明映射变量。映射属容器类类型，是一个同种元素的**无序**组，通过**唯一的键**可以获取对应的值。可以使用make创建map变量，**未初始化的映射值为nil**。

  ```go
  var myMap = make(map[T1] T2)	// 创建0容量的map
  var myMap = make(map[T1]T2, cap)// 创建制定容量的map
  var myMap = map[string]int {	// 创建并初始化map
      "dable" : 27,
      "cat" : 28,
  }
  ```

  使用示例：

  ```go
  package main
  
  import . "fmt"
  
  func main(){
      productNum := make(map[string]int)
      productNum["pen"] = 100		// 增
      productNum["paper"] = 400	// 增
      productNum["paper"] = 500	// 改
      delete(productNum, "paper")	// 删
      v, ok := productNum["pen"]	// 查    
      if ok{
          Println("find pen sucess v = ", v)
      }
      for product, num := range productNum{	// 遍历 product string; num int
          Println(product, num)
      }
  }
  ```

  

- #### struct

  **struct**用于定义结构体。结构体属容器类类型，是多个相同或不同类型值的集合。

  ```go
  package main
  
  import std "fmt"
  
  type Vertex struct {
      X, Y int
  }
  
  var (
      v1 = Vertex{1, 2}	// 类型为 Vertex
      v2 = Vertex{X: 1}	// Y: 0被省略
      v3 = Vertext{}		// X: 0 和 Y: 0
      p = &Vertex{1, 2}	// 类型为 *Vertex
  )
  
  func main() {
      std.Printf("%#v %#v %#v %#v\n", v1, v2, v3, p)
  }
  ```

  输出结果：

  ```go
  main.Vertex{X:1, Y:2} main.Vertex{X:1, Y:0} main.Vertex{X:0, Y:0} &main.Vertex{X:1, Y:2}
  ```

  

- #### type

  **type**用于定义类型，比如定义struct、interface与等价类型。

  ```go
  // 定义struct
  type Person struct{
      name string
      age int
  }
  
  // 定义接口
  type Person interface {
      speak(word string)
  }
  
  // 定义等价类型，rune等价于int32
  type rune int32 	// rune是一个新类型，rune包含int32的所有特性
  type i32 = int32	// i32是int32的别名，%T 输出仍然是int32
  ```

  

- #### var

  **var**用于定义变量，定义变量可以使用**:=**来代替var，但是**:=**运算符只能用于函数体内。

  ```go
  var name T			// name默认为类型T的零值
  var name = value	// 根据值value推断变量name的类型，类似C++中的auto关键字
  var name T = value	// 赋初始值时指明类型
  var name1, name2 T	// 同时定义多个同类型变量
  
  // 同时定义多个不同类型的变量
  var(
  	name string = "Bob"
      age int = 18
  )
  ```

  

  ### 程序流程控制

- #### break

  

- #### case

  

- #### continue

  

- #### default

  

- #### defer

  

- #### else

  

- #### fallthrough

  

- #### for

  

- #### go

  

- #### goto

  

- #### if

  

- #### range

  

- #### return

  

- #### select

  

- #### switch

  

- #### defer

  



